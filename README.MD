## 微服务概述

### 微服务架构

微服务架构师一种架构模式，它提倡将单一应用程序分成一组小的服务，服务之间互相协调、互相配合， 为用户提供最终价值。每个服务运行在其独立的进程中，服务与服务之间采用轻量级的通信机制互相协作（通常是基于HTTP协议的RESTful API）。每个服务都围绕着具体业务进行构建，并且能够被独立的部署到生产环境、类生产环境等。另外，**应当尽量避免统一的、集中式的**服务管理机制，对具体的一个服务而言，应根据业务上下文，选择合适的语言、工具对其进行构建。

微服务化的核心就是将传统的一站式应用，根据业务拆分成一个一个的服务，彻底地去耦合，每一个微服务提供单个业务的功能，一个服务做一件事，从技术角度来看就是一种小而独立的处理过程，类似进程概念，能能够自行单独启动或销毁，拥有自己独立的数据库。

### 微服务的技术栈介绍

| 微服务条目                               | 落地技术                                                     |
| ---------------------------------------- | ------------------------------------------------------------ |
| 服务开发                                 | SpringBoot、Spring、SpringMVC                                |
| 服务配置与管理                           | Netflix公司的Archailus、阿里的Diamond等                      |
| 服务注册与发现                           | Eureka、Consul、ZooKeeper等                                  |
| 服务调用                                 | Rest、RPC、gRPC                                              |
| 服务熔断器                               | Hystrix、Envoy等                                             |
| 负载均衡                                 | Ribbon、Nginx等                                              |
| 服务接口调用（客户端调用服务的简化工具） | Feign等                                                      |
| 消息队列                                 | kafka、RabbitMQ、ActiveMQ等                                  |
| 服务配置中心管理                         | Spring Cloud Config、Chef等                                  |
| 服务路由（API网关）                      | Zuul、Gateway等                                              |
| 服务监控                                 | Zabbix、Nagios、Metrics、Spectator等                         |
| 全链路追踪                               | Zipkin、Brave、Dapper等                                      |
| 服务部署                                 | Docker、OpenStack、K8s等                                     |
| 数据流操作开发包                         | Springcloud Stream（封装与Redis、Rabbit、kafka等发送接收消息） |
| 事件消息总线                             | SpringCloud Bus                                              |
| ……                                       | ……                                                           |

### Spring Cloud是什么

- Spring Cloud，基于Spring Boot提供了一套微服务解决方案，包括服务注册与发现、配置中心，全链路监控、服务网关、负载均衡、熔断器等组件，除了基于Netflix的开源组件做高度抽象封装之外，还有一些选型中立的开源组件。
- Spring Cloud利用SpringBoot的开发便利性巧妙地简化了分布式系统基础设施的开发，Spring Cloud为开发人员提供了快速构建分布式系统的一些工具，**包括配置管理、服务发现、断路器、路由、微代理、事件总线、全局锁、决策竞选、分布式会话等**，他们都可以用Spring Boot开发风格做到一键启动和部署。
- Spring Boot并没有重复制作轮子，它只是将目前各家公司开发的比较成熟的、经得起考验的服务框架组合起来，通过SpringBoot风格进行再封装屏蔽了复杂的配置和实现原理，最终给开发者留出了一套简单易懂、易部署和易维护的分布式系统开发工具包。
- SpringCloud：分布式微服务架构下的一站式解决方案，是各个微服务架构落地技术的集合体，俗称微服务全家桶

### SpringBoot和SpringCloud是什么关系？

- SpringBoot专注于快速方便的开发单个个体微服务
  - SpringCloud是关注全局的微服务协调整理治理框架，它将SpringBoot开发的一个个单体微服务整合并管理起来，为各个微服务之间提供，配置管理、服务发现、断路器、路由、微代理、事件总线、全局锁、决策竞选、分布式会话等集成服务
  - SpringBoot可以离开SpringCloud独立使用开发项目，**但是SpringCloud离不开SpringBoot，**属于依赖的关系
  - **SpringBoot专注于快速、方便的开发单个微服务个体，SpringCloud关注于全局的服务治理框架**